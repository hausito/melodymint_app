<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Melody Mint</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Ensure Telegram SDK is available
            if (window.Telegram && window.Telegram.WebApp) {
                window.Telegram.WebApp.expand();
            }
        });

        // Function to show referral link and handle copy to clipboard
        function showReferralLink() {
            // Fetch referral link from database (simulated here)
            const referralLink = 'https://example.com/referral';

            // Display modal with referral link
            const modal = document.getElementById('myModal');
            const modalContent = document.getElementById('modalContent');
            modal.style.display = 'block';
            modalContent.textContent = referralLink;

            // Automatically copy to clipboard (simulated for mobile)
            const dummyInput = document.createElement('input');
            document.body.appendChild(dummyInput);
            dummyInput.value = referralLink;
            dummyInput.select();
            document.execCommand('copy');
            document.body.removeChild(dummyInput);
        }

        // Function to close the modal
        function closeModal() {
            const modal = document.getElementById('myModal');
            modal.style.display = 'none';
        }
    </script>
</head>
<body>
    <div id="gameContainer">
        <!-- Your game content -->
    </div>

    <!-- Modal for displaying referral link -->
    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <p id="modalContent"></p>
            <button onclick="closeModal()">Close</button>
        </div>
    </div>

    <!-- Button to invite friends -->
    <button id="inviteButton" class="invite-button" onclick="showReferralLink()">Invite Friends</button>

    <!-- Footer and other content -->
    <div id="footer">
        <!-- Your footer buttons -->
    </div>

    <script src="game.js"></script>
</body>
</html>
